<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
#parent{
  /*  border:1px solid black;*/
    display: grid;
    grid-template-columns: 15% 15% 15% 15%;
    grid-gap: 5%
}
#parent > div{
    max-width: 100%;
}
#mainnavebar{
   /* border: 1px solid black;*/
    height: 50px;
    background-color: #424242;

}
#seachbtn{
    color:white;
    background-color:#616161 ;
}
#span{
    width: 50px;
    height: 50px;
   padding: 1%;
    background-color: violet;
    border-radius:50%;
    color: white;
}
#N{
    color: white;
}
    </style>
</head>
<body>
    <div id="mainnavebar">
        <span id="N">YOUTUBE</span>
         <input type="text" id="searchbox" placeholder="Search" />
         <button id="seachbtn" onclick="searchY()" >search</button>
         <span id="span">V</span>
    </div>
    <div id="parent"></div>
    <script>
//var count =0
let container = document.getElementById('parent')

async function searchY(){
 // count++
    let video_name = document.getElementById('searchbox').value
try{
    let res = await fetch(`https://youtube.googleapis.com/youtube/v3/search?chart=mostPopular&q=${video_name}&type=video&key=AIzaSyBO7iaB8UzrLk53kCFI53dO_-Bjl0wa2d4&maxResults=20`)

    let data= await res.json()

    console.log('data:', data.items)
    appendY(data.items)
}catch(e){
    console.log('e:', e)
}
}




function appendY(videos){
    container.innerHTML = null
    videos.forEach(({id:{videoId}})=>{
       
         let div= document.createElement('div')
         div.innerHTML = `<iframe width="560" height="315" src="https://www.youtube.com/embed/${videoId}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`
         container.append(div)
    })
  
}


//////////
async function searchY2(){
  
  
try{
  let res = await fetch(`https://www.googleapis.com/youtube/v3/videos?region=DE&chart=mostPopular&key=AIzaSyBO7iaB8UzrLk53kCFI53dO_-Bjl0wa2d4&part=snippet&maxResults=20`)

  let data= await res.json()

  console.log('data:', data.items)
  appendY2(data.items)
}catch(e){
  console.log('e:', e)
}

  
}
/*
if(count === 0){
searchY2()
}
*/
searchY2()

function appendY2(videos){

videos.forEach(({id})=>{
     let div= document.createElement('div')
     div.innerHTML = `<iframe width="560" height="315" src="https://www.youtube.com/embed/${id}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`
     container.append(div)
})

}




    </script>

</body>
</html>